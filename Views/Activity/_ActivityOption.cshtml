@{
	string ticketno = ViewBag.TicketNo;
	string rid = ViewBag.RID;	
}

<div class="block block-themed block-transparent mb-0">
	<div class="block-header bg-gd-sea">
		<h3 class="block-title">ACTIVITY OPTIONS FOR TICKET @ticketno</h3>
		<div class="block-options">
			<button type="button" class="btn-block-option" data-dismiss="modal" aria-label="Close">
				<i class="si si-close"></i>
			</button>
		</div>
	</div>

	<div class="block-content">
		<div class="row items-push-2x text-center text-sm-left">
			<div class="col-sm-6 col-xl-4">
				<a class="block block-transparent text-center bg-primary" asp-controller="Activity" asp-action="UpdateCMEntry" asp-route-id=@rid>
					<div class="block-content">
						<p class="mt-5">
							<i class="si si-note fa-4x text-white-op"></i>
						</p>
						<p class="font-w600 text-white">Update</p>
					</div>
				</a>

			</div>

			<div class="col-sm-6 col-xl-4">
				<a class="block block-transparent text-center bg-success" asp-controller="Activity" asp-action="EditCMEntry" asp-route-id=@rid>
					<div class="block-content">
						<p class="mt-5">
							<i class="si si-pencil fa-4x text-white-op"></i>
						</p>
						<p class="font-w600 text-white">Edit</p>
					</div>
				</a>

			</div>

			<div class="col-sm-6 col-xl-4">
				<a class="block block-transparent text-center bg-warning" href="#" data-toggle="tooltip" title="Delete Activity" onclick=DeleteActivity("/Activity/DelActivity/@rid")>
					<div class="block-content">
						<p class="mt-5">
							<i class="si si-trash fa-4x text-white-op"></i>
						</p>
						<p class="font-w600 text-white">Delete</p>
					</div>
				</a>
				
			</div>
		</div>
	</div>

</div>

<script>
	function DeleteActivity(url) {
		Swal.fire({
			title: 'Are you sure?',
			text: 'Once deleted, you will not be able to recover this Activity and history!',
			icon: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33',
			confirmButtonText: 'Yes, delete it!'
		}).then((result) => {
			if (result.isConfirmed) {
				$.ajax({
					type: 'GET',
					url: url,
					cache: false,
					success: function (data) {
						if (data.success) {
							Swal.fire({
								text: data.message,
								icon: 'success'
							}).then((result) => {
								location.reload();
							});


						}
						else {
							Swal.fire({
								text: data.message,
								icon: 'info'
							});

						}
					}
				});
			}
		})
	}
</script>